<html>
    <head><title>Grid</title></head>
    <body>
        <div class="grid-container" style="height: 1500px;">
            <h1>Grid will load here</h1>
            <p id="querycontent"></p>
            <button onclick="openPopup()">
                Open popup
            </button>
        </div>
        <script>
            function openPopup(){
                window.parent.postMessage({
                    type: 'SmartViewsGridMessage', 
                    action: 'openPopup', 
                    payLoad: {
                        'URL': 'https://santosh1997.github.io/SVCustomTypeTabTestingTool/SamplePopup.html?tabId={{tabId}}&&orgCode={{orgCode}}&&userId={{userId}}&&accessKey={{accessKey}}&&secretKey={{secretKey}}',
                        'PopupStyles': 'height: 500px; width: 600px;'
                    }
                }, "*");
            }
            window.addEventListener('load', () => {
                window.parent.postMessage({
                    type: 'SmartViewsGridMessage', 
                    action: 'setHeight', 
                    payLoad: {
                        'height': (document.scrollingElement.offsetHeight+16) + "px"
                    }
                }, "*");
                const urlSearchParams = new URLSearchParams(window.location.search),
                    params = Object.fromEntries(urlSearchParams.entries());
                document.getElementById('querycontent').innerText = JSON.stringify(params);
            });

        </script>
    </body>
</html>